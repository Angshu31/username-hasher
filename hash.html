<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <title>Static Template</title>
  </head>
  <body class="w-screen h-screen">
    <div class="absolute w-full bg-gray-700 text-white p-3">
      <h1 class="text-2xl pl-2">Username Hasher</h1>
      <div
        class="text-center absolute w-1/7"
        style="top: 0.5rem; right: 0.5rem;"
      >
        <a
          href="hash.html"
          class="inline-block bg-blue-600 hover:bg-blue-700 text-white w-20 p-2 rounded"
        >
          Hash
        </a>
        <a
          href="unhash.html"
          class="inline-block bg-blue-600 hover:bg-blue-700 text-white w-20 p-2 rounded"
        >
          Unhash
        </a>
      </div>
    </div>
    <div class="flex justify-center items-center h-full">
      <div class="text-center mx-4">
        <h1 class="text-5xl mb-5">Hash Username</h1>

        <p>
          Hash your username so you can comment it in chats without youtube
          stopping you.
        </p>

        <div class="mt-5">
          <span class="text-xl">Enter Username:</span> <br />
          <input
            class="border-2 border-gray-700 rounded p-2 focus:outline-none focus:border-gray-500"
            type="text"
            id="userinput"
          />
        </div>

        <button
          onclick="clicked()"
          class="bg-blue-600 hover:bg-blue-700 text-white p-2 rounded mt-5"
        >
          Hash Username
        </button>

        <div class="mt-5" style="display: none;">
          <span class="text-xl">Hashed Username:</span> <br />
          <input
            class="border-2 border-gray-700 p-2"
            type="text"
            readonly="readonly"
            id="result"
          />
          <br />
          <button
            onclick="copy()"
            class="bg-blue-600 hover:bg-blue-700 text-white p-2 rounded mt-5"
          >
            Copy Hashed Username
          </button>
        </div>
      </div>
    </div>
    <div
      class="absolute bg-gray-800 w-50 py-3 px-5 rounded-l-lg"
      id="copied-box"
      style="bottom: 2rem; right: 2rem; display: none;"
    >
      <h1 class="text-white text-xl">Copied!</h1>
    </div>
    <script>
      const result = document.getElementById("result");
      const copiedBox = document.getElementById("copied-box");

      function hash(str) {
        const arr = [];
        for (let i = 0; i < str.length; i++) {
          arr.push(str.charCodeAt(i));
        }
        return arr.map((code) => String.fromCharCode(code - 5)).join("");
      }

      function clicked() {
        const input = document.getElementById("userinput");
        const username = input.value;

        result.value = hash(username);
        result.parentNode.style.display = "block";
      }

      function copy() {
        result.select();
        result.setSelectionRange(0, 99999);

        document.execCommand("copy");

        copiedBox.style.display = "block";
        setTimeout(() => {
          copiedBox.style.display = "none";
        }, 5000);
      }
    </script>
  </body>
</html>
